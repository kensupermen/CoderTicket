class TicketsController < ApplicationController
  def new
    @event = Event.find(params[:event_id])
  end

  def create
    @event = Event.find_by(id: params[:event_id])
    @order= Order.new(event: @event)

    @ticket_quantity = params[:ticket_quantity]
    @ticket_quantity.each do |ticket_type_id, quantity|
      #@ticket_type = TicketType.find_by id: ticket_type_id
      order_detail = OrderDetail.new ticket_type_id: @ticket_type_id, quantity: quantity
      @order.order_details << order_detail 
    end

  end

end
